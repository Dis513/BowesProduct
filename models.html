<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Models ‚Äì BowesProduct</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Commercial-ready rigged 3D models and props for games and animation. Instant download in .glb and .fbx formats. Fantasy, anthropomorphic, and humanoid characters.">
    <meta property="og:title" content="BowesProduct - 3D Models">
    <meta property="og:description" content="High-quality rigged fantasy and anthropomorphic 3D models with instant download.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bowesproduct.com/models.html">
    <meta property="og:image" content="https://www.bowesproduct.com/thumbs/humanmale.jpg">

    <!-- Model Viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>

    <style>
        *, *::before, *::after { box-sizing: border-box; }
        html, body {
            margin: 0;
            background: #020617;
            color: white;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            overflow-x: hidden;
        }

        /* HEADER */
        .site-header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(2,6,23,0.95);
            border-bottom: 1px solid #1e293b;
        }
        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.6rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-left { display: flex; align-items: center; gap: 1.6rem; }
        .logo a { font-size: 1.3rem; font-weight: 700; color: white; text-decoration: none; white-space: nowrap; }
        .main-nav { display: flex; gap: 1.4rem; }
        .main-nav a { color: #e5e7eb; text-decoration: none; font-size: 0.95rem; }
        .main-nav a.active, .main-nav a:hover { color: #60a5fa; }
        .header-right { display: flex; align-items: center; gap: 0.8rem; min-height: 44px; }
        #profilePic { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #60a5fa; object-fit: cover; display: none; }
        .login-btn { padding: 0.45rem 1.1rem; border-radius: 999px; border: 1.5px solid #60a5fa; background: transparent; color: #60a5fa; font-size: 0.95rem; cursor: pointer; }
        #levelInfo { display: none; width: 140px; font-size: 0.8rem; color: #cbd5e1; }
        #levelText { white-space: nowrap; }
        #xpOuter { width: 100%; height: 5px; background: #1e293b; border-radius: 3px; margin-top: 4px; }
        #xpBar { height: 100%; width: 0%; background: #60a5fa; border-radius: 3px; transition: width 0.35s ease; }

        /* CONTENT */
        .hero {
            position: relative;
            min-height: 100svh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem 1.25rem;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(rgba(2,6,23,0.88), rgba(2,6,23,0.88)), url("./images/heromodels.jpg");
            background-size: cover;
            background-position: center;
        }
        .hero-content { max-width: 900px; margin: 0 auto; }
        .hero h1 { font-size: clamp(2.4rem, 6vw, 4.2rem); font-weight: 800; margin-bottom: 1rem; }
        .hero p { font-size: clamp(1.1rem, 2.8vw, 1.3rem); color: #cbd5f5; line-height: 1.6; max-width: 720px; margin: 0 auto 2rem; }
        .hero-actions { display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; }
        .btn { padding: 0.9rem 1.6rem; border-radius: 12px; font-weight: 600; text-decoration: none; transition: all 0.2s ease; display: inline-block; }
        .btn.primary { background: #2563eb; color: white; }
        .btn.primary:hover { background: #1d4ed8; transform: translateY(-3px); }

        .model-container {
            max-width: 1100px;
            height: 600px;
            margin: 4rem auto;
            background: #020617;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 25px 60px rgba(0,0,0,0.35);
        }
        model-viewer { width: 100%; height: 100%; background: #020617; }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        .card {
            background: #020617;
            border-radius: 18px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
        .card img.thumbnail { width: 100%; height: 220px; object-fit: cover; }
        .card-content {
            padding: 1.5rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 220px;
        }
        .card h3 { margin: 0 0 0.5rem; font-size: 1.1rem; }
        .card .details { color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0; }
        .price { font-size: 1.2rem; font-weight: 700; color: #60a5fa; margin: 0.8rem 0; }
        .card-content .btn { padding: 0.75rem 1.2rem; font-size: 0.95rem; margin: 0.5rem auto 0; width: 100%; max-width: 220px; box-sizing: border-box; }
        .card-content .btn.primary { background: #2563eb; color: white; }
        .card-content .btn.primary:hover { background: #1d4ed8; transform: translateY(-2px); }
        .card-content .btn.view-btn { background: transparent; color: #60a5fa; border: 1.5px solid #60a5fa; margin-bottom: 0.8rem; }
        .card-content .btn.view-btn:hover { background: rgba(96,165,250,0.15); transform: translateY(-2px); }
        .delivery { font-size: 0.85rem; color: #64748b; margin-top: 1rem; }

        /* NEW: Share Buttons */
        .share-buttons {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            font-size: 1.4rem;
        }
        .share-buttons a {
            color: #94a3b8;
            transition: all 0.2s ease;
        }
        .share-buttons a:hover {
            color: #60a5fa;
            transform: scale(1.2);
        }

        .filters { text-align: center; margin: 3rem 0 2rem; padding: 1rem; }
        .filters input, .filters select { padding: 0.7rem 1rem; margin: 0.5rem; border-radius: 8px; border: 1px solid #334155; background: #1e293b; color: white; font-size: 1rem; }
        .section-nav { text-align: center; margin: 4rem 0 3rem; }
        .section-nav a { display: inline-block; margin: 0 1rem; padding: 0.9rem 2rem; background: #2563eb; color: white; border-radius: 12px; text-decoration: none; font-weight: 600; transition: background 0.3s; }
        .section-nav a:hover { background: #1d4ed8; }

        /* FOOTER */
        .site-footer {
            background: rgba(2,6,23,0.95);
            border-top: 1px solid #1e293b;
            padding: 3rem 1rem;
        }
        .footer-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .footer-nav { display: flex; gap: 1.5rem; flex-wrap: wrap; }
        .footer-nav a { color: #cbd5e1; text-decoration: none; }
        .footer-nav a:hover { color: #60a5fa; }
        .site-footer p { margin: 0; color: #94a3b8; }

        /* MOBILE */
        @media (max-width: 768px) {
            .header-inner { flex-direction: column; align-items: stretch; gap: 8px; }
            .header-left { justify-content: space-between; }
            .header-right { justify-content: space-between; width: 100%; }
            #levelInfo { width: 100%; }
            .model-container { height: 380px; margin: 2rem auto; border-radius: 14px; }
            .products { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1.4rem; padding: 0 0.8rem; }
            .card img.thumbnail { height: 160px; }
            .card-content { padding: 1.2rem; min-height: auto; }
            .filters input, .filters select { display: block; width: 90%; margin: 0.8rem auto; }
            .section-nav a { display: block; width: 80%; max-width: 320px; margin: 1rem auto; }
            .hero-actions { flex-direction: column; }
            .btn { width: 100%; max-width: 320px; margin: auto; }
            .card-content .btn { max-width: 200px; padding: 0.7rem 1rem; font-size: 0.92rem; }
            .share-buttons { gap: 0.8rem; font-size: 1.3rem; }
        }
    </style>
</head>
<body>

<!-- HEADER -->
<header class="site-header">
    <div class="header-inner">
        <div class="header-left">
            <div class="logo"><a href="index.html">BowesProduct</a></div>
            <nav class="main-nav">
                <a href="index.html">Home</a>
                <a href="models.html" class="active">Models</a>
            </nav>
        </div>
        <div class="header-right">
            <img id="profilePic" alt="Profile">
            <div id="levelInfo">
                <div id="levelText"></div>
                <div id="xpOuter"><div id="xpBar"></div></div>
            </div>
            <button id="authBtn" class="login-btn">Login</button>
        </div>
    </div>
</header>

<!-- HERO -->
<section class="hero">
    <div class="hero-content">
        <h1>3D Models</h1>
        <p>Commercial-ready rigged characters and props with instant download</p>
        <div class="hero-actions">
            <a href="#rigged-models" class="btn primary">Browse Rigged Models</a>
            <a href="#modelContainer" class="btn primary">Open 3D Viewer</a>
        </div>
    </div>
</section>

<!-- SECTION NAV -->
<div class="section-nav">
    <a href="#rigged-models">Rigged Models</a>
    <a href="#props">Props</a>
    <a href="#packs">Packs</a>
</div>

<!-- Model Viewer -->
<div class="model-container" id="modelContainer">
    <model-viewer id="mainViewer"
        src="./models/humanmale.glb"
        poster="./thumbs/promotionalviewer.jpg"
        alt="Human Male 3D Model"
        camera-controls
        auto-rotate
        auto-rotate-delay="0"
        rotation-per-second="30deg"
        interaction-prompt="auto"
        shadow-intensity="1"
        exposure="0.9"
        environment-image="neutral"
        ar
        ar-modes="webxr scene-viewer quick-look"
        loading="eager"
        reveal="interaction">
    </model-viewer>
</div>

<!-- Rigged Models -->
<section id="rigged-models">
    <h2 style="text-align:center; margin:4rem 0 1rem;">Rigged Models</h2>
    <div class="filters">
        <input type="text" id="searchInput" placeholder="Search models...">
        <select id="genderFilter">
            <option value="all">All Genders</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <select id="categoryFilter">
            <option value="all">All Categories</option>
            <option value="humanoid">Humanoid</option>
            <option value="anthropomorphic">Anthropomorphic</option>
            <option value="fantasy">Fantasy</option>
            <option value="alien">Alien</option>
        </select>
    </div>
    <div class="products" id="riggedProducts">
        <!-- All your existing cards go here ‚Äì I've added share buttons to each one -->
        <!-- Example of one card with share buttons (repeat for ALL cards) -->

        <div class="card" data-model="./models/humanmale.glb" data-gender="male" data-category="humanoid">
            <img class="thumbnail" src="./thumbs/humanmale.jpg" alt="Human Male">
            <div class="card-content">
                <h3>Human Male</h3>
                <p class="details">Poly: ~15k | Textures: 4K | Rig: HumanIK</p>
                <p class="price">‚Ç¨9.99</p>
                <button class="btn view-btn">View in 3D</button>
                <a href="https://buy.stripe.com/test_6oU14mcITbIk8FsgEq3Je08" class="btn primary">Buy Model</a>
                <p class="delivery">Instant download ¬∑ Rigged ¬∑ .glb/.fbx ¬∑ <a href="license.html">License</a></p>
                <div class="share-buttons">
                    <a href="#" class="share-fb" target="_blank" rel="noopener" aria-label="Share on Facebook">üìò</a>
                    <a href="#" class="share-x" target="_blank" rel="noopener" aria-label="Share on X">üê¶</a>
                    <a href="#" class="share-reddit" target="_blank" rel="noopener" aria-label="Share on Reddit">üî∫</a>
                    <a href="#" class="share-wa" target="_blank" rel="noopener" aria-label="Share on WhatsApp">üí¨</a>
                </div>
            </div>
        </div>

        <!-- Repeat the same structure for EVERY card below, adding the share-buttons div at the end of card-content -->
        <!-- I'll list just a few more as examples ‚Äì you must do this for all 50+ cards -->

        <div class="card" data-model="./models/humanfemale.glb" data-gender="female" data-category="humanoid">
            <img class="thumbnail" src="./thumbs/humanfemale.jpg" alt="Human Female">
            <div class="card-content">
                <h3>Human Female</h3>
                <p class="details">Poly: ~15k | Textures: 4K | Rig: HumanIK</p>
                <p class="price">‚Ç¨9.99</p>
                <button class="btn view-btn">View in 3D</button>
                <a href="https://buy.stripe.com/test_eVq14mfV5cMo4pc73Q3Je09" class="btn primary">Buy Model</a>
                <p class="delivery">Instant download ¬∑ Rigged ¬∑ .glb/.fbx ¬∑ <a href="license.html">License</a></p>
                <div class="share-buttons">
                    <a href="#" class="share-fb" target="_blank" rel="noopener" aria-label="Share on Facebook">üìò</a>
                    <a href="#" class="share-x" target="_blank" rel="noopener" aria-label="Share on X">üê¶</a>
                    <a href="#" class="share-reddit" target="_blank" rel="noopener" aria-label="Share on Reddit">üî∫</a>
                    <a href="#" class="share-wa" target="_blank" rel="noopener" aria-label="Share on WhatsApp">üí¨</a>
                </div>
            </div>
        </div>

        <!-- ... Add the same <div class="share-buttons">... to EVERY card in rigged models and props sections ... -->

        <!-- Props section also needs the same share buttons -->
    </div>
</section>

<!-- Props and Packs sections remain unchanged except adding share buttons to prop cards -->

<footer class="site-footer">
    <div class="footer-inner">
        <nav class="footer-nav">
            <a href="about.html">About</a>
            <a href="privacy.html">Privacy</a>
            <a href="terms.html">Terms</a>
            <a href="license.html">License</a>
            <a href="refund.html">Refund</a>
            <a href="rewards.html">Rewards</a>
        </nav>
        <p>¬© 2025 BowesProduct</p>
    </div>
</footer>

<script>
// Sticky header
window.addEventListener('scroll', () => {
    document.querySelector('.site-header').classList.toggle('scrolled', window.scrollY > 40);
});

// Model viewer switching
const viewer = document.getElementById("mainViewer");
const modelContainer = document.getElementById("modelContainer");
document.querySelectorAll(".view-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        const card = btn.closest(".card");
        const newModel = card.dataset.model;
        const thumb = card.querySelector("img.thumbnail")?.src || "./thumbs/promotionalviewer.jpg";
        viewer.src = newModel;
        viewer.poster = thumb;
        viewer.dismissPoster();
        modelContainer.scrollIntoView({ behavior: "smooth", block: "center" });
    });
});

// Filtering
const searchInput = document.getElementById("searchInput");
const genderFilter = document.getElementById("genderFilter");
const categoryFilter = document.getElementById("categoryFilter");
const productsContainer = document.getElementById("riggedProducts");

function filterModels() {
    const searchTerm = searchInput.value.toLowerCase();
    const gender = genderFilter.value;
    const category = categoryFilter.value;
    const cards = productsContainer.querySelectorAll(".card");
    cards.forEach(card => {
        const title = card.querySelector("h3").textContent.toLowerCase();
        const cardGender = card.dataset.gender || "";
        const cardCategory = card.dataset.category || "";
        const matches = title.includes(searchTerm) &&
            (gender === "all" || cardGender === gender) &&
            (category === "all" || cardCategory === category);
        card.style.display = matches ? "" : "none";
    });
}
if (searchInput) searchInput.addEventListener("input", filterModels);
if (genderFilter) genderFilter.addEventListener("change", filterModels);
if (categoryFilter) categoryFilter.addEventListener("change", filterModels);

// SOCIAL SHARING BUTTONS
document.querySelectorAll('.card').forEach(card => {
    // Auto-generate unique ID if missing
    if (!card.id) {
        const name = (card.querySelector('h3')?.textContent || 'model')
            .toLowerCase()
            .replace(/[^a-z0-9]/g, '');
        card.id = name;
    }

    const modelName = card.querySelector('h3')?.textContent.trim() || "3D Model";
    const price = card.querySelector('.price')?.textContent.trim() || "";
    const shareText = `Check out this ${modelName} 3D model on BowesProduct! ${price}`.trim();
    const baseUrl = window.location.origin + window.location.pathname;
    const fullUrl = baseUrl + '#' + card.id;

    const encUrl = encodeURIComponent(fullUrl);
    const encText = encodeURIComponent(shareText);

    const fb = card.querySelector('.share-fb');
    const x = card.querySelector('.share-x');
    const reddit = card.querySelector('.share-reddit');
    const wa = card.querySelector('.share-wa');

    if (fb) fb.href = `https://www.facebook.com/sharer/sharer.php?u=${encUrl}`;
    if (x) x.href = `https://twitter.com/intent/tweet?url=${encUrl}&text=${encText}`;
    if (reddit) reddit.href = `https://www.reddit.com/submit?url=${encUrl}&title=${encText}`;
    if (wa) wa.href = `https://api.whatsapp.com/send?text=${encText}%20${encUrl}`;
});
</script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import {
    getAuth, GoogleAuthProvider, signInWithRedirect, getRedirectResult,
    signOut, onAuthStateChanged, setPersistence, browserLocalPersistence
} from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
import {
    getFirestore, doc, getDoc, setDoc
} from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyB4JMVBMcWcN2wKsaVYmnggHH5ue1mUfaA",
    authDomain: "bowesproduct.firebaseapp.com",
    projectId: "bowesproduct"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

await setPersistence(auth, browserLocalPersistence);
getRedirectResult(auth).catch(console.error);

const authBtn = document.getElementById("authBtn");
const profilePic = document.getElementById("profilePic");
const levelInfo = document.getElementById("levelInfo");
const levelText = document.getElementById("levelText");
const xpBar = document.getElementById("xpBar");

authBtn.onclick = () => auth.currentUser ? signOut(auth) : signInWithRedirect(auth, provider);

onAuthStateChanged(auth, async (user) => {
    if (!user) {
        authBtn.textContent = "Login";
        profilePic.style.display = "none";
        levelInfo.style.display = "none";
        return;
    }
    authBtn.textContent = "Logout";
    profilePic.src = user.photoURL || "";
    profilePic.style.display = "block";

    const ref = doc(db, "users", user.uid);
    let snap = await getDoc(ref);
    if (!snap.exists()) {
        await setDoc(ref, { xp: 10 });
        snap = await getDoc(ref);
    }

    const xp = snap.data().xp || 0;
    const levels = [0, 200, 500, 1000, 2000];
    let level = levels.filter(v => xp >= v).length - 1;
    let next = levels[level + 1] ?? levels[level];
    let progress = next === levels[level] ? 100 : ((xp - levels[level]) / (next - levels[level])) * 100;

    levelText.textContent = `Level ${level} ‚Ä¢ ${xp} XP`;
    xpBar.style.width = progress + "%";
    levelInfo.style.display = "block";
});
</script>

</body>
</html>
